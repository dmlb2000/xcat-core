.\" Process this file with
.\" groff -man -Tascii rinv.1
.\"
.TH RINV 1 "Jan 2008" xCAT "xCAT"
.SH NAME
rinv \- remote hardware inventory
.SH SYNOPSIS
.B rinv
[\fInoderange\fR] [\fIpci\fR|\fIconfig\fR|\fImodel\fR|\fIserial\fR|\fIasset\fR|\fIall\fR]

.B rinv
[\fI-h\fR|\fI--help\fR|\fI-v\fR|\fI--version\fR]
.SH DESCRIPTION
.B rinv
retrieves hardware configuration information from the on-board Service Processor
for a single or range of nodes and groups.
.SH OPTIONS
.IP \fBpci\fR
Retrieves PCI bus information.

.IP \fBconfig\fR
Retrieves number of processors, speed, total memory, and DIMM locations.

.IP \fBmodel\fR
Retrieves model number.

.IP \fBserial\fR
Retrieves serial number.

.IP \fBasset\fR
Retrieves asset tag.  Usually it's the MAC address of eth0.

.IP \fBall\fR
All of the above.

.IP \fB-h\fR|\fB--help\fR
Print help.

.IP \fB-v\fR|\fB--version\fR
Print version.

.SH DIAGNOSTICS
The following diagnostics may be issued on stdout/stderr:

is not a node or a group
.RS
Node or group is not defined in
.BR nodelist.tab (5).
.RE 

function not supported
.RS
Node does not support remote power control or remote power control method not supported.
.RE

ping to $SPN failed
.RS
Where $SPN = the Service Processor Network defined in
.BR mp.tab (5).
PCI MPA adapter may not have power.  Check Ethernet cable and IP.
.RE

telnet timeout
.RS
PCI MPA adapter may not have power.  Check Ethernet cable and IP.
.RE

connection refused
.RS
Returned if telnet fails.  PCI MPA may be in use or telnet interface is locked up.  
.BR mpareset (1)
can be used to reboot the PCI MPA. 
.RE

unknown asma $host
.RS
Returned if not in /etc/hosts or DNS.
.RE

name lookup failure
.RS
Returned if not in DNS.
.RE

node not on asma $SPN
.RS
Where $SPN = the SPN defined for that node in in
.BR mp.tab (5).  
Use 
.BR mpncheck (1)
$SPN to verify.  Check cabling and try 
.BR
mpareset (1).
.RE

remote session timeout
.RS
Communication with SPN was successful but communication with node failed.  Check cabling.  Try removing power from node, wait 10 seconds, then restore.
.SH EXAMPLES

\fIrinv node5 all\fR

node5: Machine Type/Model 865431Z
.br
node5: Serial Number 23C5030
.br
node5: Asset Tag 00:06:29:1F:01:1A
.br
node5: PCI Information
.br
node5: Bus  VendID   DevID   RevID   Description                    Slot  Pass/Fail 
.br
node5:  0    1166    0009     06     Host Bridge                      0     PASS 
.br
node5:  0    1166    0009     06     Host Bridge                      0     PASS 
.br
node5:  0    5333    8A22     04     VGA Compatible Controller        0     PASS 
.br
node5:  0    8086    1229     08     Ethernet Controller              0     PASS 
.br
node5:  0    8086    1229     08     Ethernet Controller              0     PASS 
.br
node5:  0    1166    0200     50     ISA Bridge                       0     PASS 
.br
node5:  0    1166    0211     00     IDE Controller                   0     PASS 
.br
node5:  0    1166    0220     04     Universal Serial Bus             0     PASS 
.br
node5:  1    9005    008F     02     SCSI Bus Controller              0     PASS 
.br
node5:  1    14C1    8043     03     Unknown Device Type              2     PASS 
.br
node5: Machine Configuration Info
.br
node5: Number of Processors:   2
.br
node5: Processor Speed: 866 MHz
.br
node5: Total Memory:   512 MB
.br
node5: Memory DIMM locations:  Slot(s)  3  4 
.br
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/rinv
.SH "NOTES"
.IX Header "NOTES"
This command is part of the xCAT software product.
