.\" Process this file with
.\" groff -man -Tascii rvitals.1
.\"
.TH RVITALS 1 "Jan 2008" xCAT "xCAT"
.SH NAME
rvitals \- remote hardware vitals
.SH SYNOPSIS
.B rvitals
[\fInoderange\fR] [\fIcputemp\fR|\fIdisktemp\fR|\fIambtemp\fR|\fItemp\fR]

.B rvitals
[\fInoderange\fR] [\fIvoltage\fR|\fIfanspeed\fR|\fIpower\fR|\fIpowertime\fR]

.B rvitals
[\fInoderange\fR] [\fIreboots\fR|\fIstate\fR|\fIall\fR]

.B rvitals
[\fI-h\fR|\fI--help\fR|\fI-v\fR|\fI--version\fR]
.SH DESCRIPTION
.B rvitals
retrieves hardware vital information from the on-board Service Processor
for a single or range of nodes and groups.
.SH OPTIONS
.IP \fBcputemp\fR
Retrieves CPU temperatures.

.IP \fBdisktemp\fR
Retrieves HD back plane temperatures.

.IP \fBambtemp\fR
Retrieves ambient temperatures.

.IP \fBtemp\fR
Retrieves all temperatures.

.IP \fBvoltage\fR
Retrieves power supply and VRM voltage readings.

.IP \fBfanspeed\fR
Retrieves fan speeds.

.IP \fBpower\fR
Retrieves power status.

.IP \fBpowertime\fR
Retrieves total power uptime.  This value only increases, unless the
Service Processor flash gets updated.

.IP \fBreboot\fR
Retrieves total number of reboots.  This value only increases, unless the
Service Processor flash gets updated.

.IP \fBstate\fR
Retrieves the system state.

.IP \fBall\fR
All of the above.

.IP \fB-h\fR|\fB--help\fR
Print help.

.IP \fB-v\fR|\fB--version\fR
Print version.

.SH DIAGNOSTICS
The following diagnostics may be issued on stdout/stderr:

is not a node or a group
.RS
Node or group is not defined in
.BR nodelist.tab (5).
.RE 

function not supported
.RS
Node does not support remote power control or remote power control method not supported.
.RE

ping to $SPN failed
.RS
PCI MPA adapter may not have power.  Check Ethernet cable and IP.
.RE

telnet timeout
.RS
PCI MPA adapter may not have power.  Check Ethernet cable and IP.
.RE

connection refused
.RS
Returned if telnet fails.  PCI MPA may be in use or telnet interface is locked up.  
.BR mpareset (1)
can be used to reboot the PCI MPA. 
.RE

unknown asma $host
.RS
Returned if not in /etc/hosts or DNS.
.RE

name lookup failure
.RS
Returned if not in DNS.
.RE

node not on asma $SPN
.RS
Where $SPN = the SPN defined for that node in in
.BR mp.tab (5).  
Use 
.BR mpncheck (1)
$SPN to verify.  Check cabling and try 
.BR
mpareset (1).
.RE

remote session timeout
.RS
Communication with SPN was successful but communication with node failed.  Check cabling.  Try removing power from node, wait 10 seconds, then restore.
.SH EXAMPLES

\fIrvitals node5 all\fR

node5: CPU 1 Temperature: + 29.00 C (+ 84.2 F)
.br
node5: CPU 2 Temperature: + 19.00 C (+ 66.2 F)
.br
node5: DASD Sensor 1 Temperature: + 32.00 C (+ 89.6 F)
.br
node5: System Ambient Temperature Temperature: + 26.00 C (+ 78.8 F)
.br
node5: +5V Voltage: +  5.01V
.br
node5: +3V Voltage: +  3.29V
.br
node5: +12V Voltage: + 11.98V
.br
node5: +2.5V Voltage: +  2.52V
.br
node5: VRM1 Voltage: +  1.61V
.br
node5: VRM2 Voltage: +  1.61V
.br
node5: Fan 1 Percent of max:    100%
.br
node5: Fan 2 Percent of max:    100%
.br
node5: Fan 3 Percent of max:    100%
.br
node5: Fan 4 Percent of max:    100%
.br
node5: Fan 5 Percent of max:    100%
.br
node5: Fan 6 Percent of max:    100%
.br
node5: Current Power Status On
.br
node5: Power On Seconds   11855915
.br
node5: Number of Reboots    930
.br
node5: System State Booting OS or in unsupported OS
.br
.SH "FILES"
.IX Header "FILES"
/opt/xcat/bin/rvitals
.SH "NOTES"
.IX Header "NOTES"
This command is part of the xCAT software product.
