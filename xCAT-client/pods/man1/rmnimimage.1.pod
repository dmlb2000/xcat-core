=head1 NAME

B<rmnimimage> - Use this xCAT command to remove an xCAT osimage definition and the associated NIM resources.

=head1 SYNOPSIS

B<rmnimimage [-h|--help]>

B<rmnimimage [-V] [-d|--delete] [-s servicenoderange] osimage_name>

=head1 DESCRIPTION

Use this xCAT command to remove the xCAT osimage definition as well as all the AIX resources specified in the definition.

The command will remove all the NIM resources on the xCAT management node in addition to all the resources that were replicated on any xCAT service nodes.

The "nim -o remove" operation is used to remove the NIM resource definitions.  If you wish to completely remove all the files and directories (left behind by the NIM command) you must specify the "-d" option when you run rmnimimage.

If you wish to remove the NIM resource from one or more xCAT service nodes without completely removing the osimage from the management node you can use the "-s <servicenoderange>" option.   In this case the NIM resources specified in the xCAT osimage definition will be remove from the service nodes ONLY.  The osimage definition and the NIM resources on the management node will not be removed.

This command will not remove NIM resources if they are currently allocated.  You must deallocate the resources before they can be removed.   See the B<xcat2nim> and B<rmdsklsnode> commands for information on how to deallocate and remove NIM machine definitions for standalone and diskless nodes.


To list the contents of the xCAT image definition use the xCAT B<lsdef> command ("lsdef -t osimage -l -o <osimage_name>").

See the AIX NIM documentation for details on how to deallocate and remove unwanted NIM objects.

=head1 OPTIONS

=over 10

=item B<-h |--help>

Display usage message.

=item B<-d|--delete>	

Delete any files or directories that were left after the "nim -o remove" command was run.

=item B<-s servicenoderange>    

Remove the NIM resources on these xCAT service nodes only.   Do not remove the xCAT osimage definition and do not remove the NIM resources from the xCAT management node. (or NIM primary server).

=item B<osimage_name>

The name of the xCAT osimage definition.

=item B<-V |--verbose>

Verbose mode.

=back

=head1 RETURN VALUE

=over 3

=item 0

The command completed successfully.

=item 1

An error has occurred.

=back

=head1 EXAMPLES

1) Remove the xCAT osimage definition named "53image" along with all NIM resources specified in the definition.

B<rmnimimage 53cosi>

The "nim -o remove" operation will be used to remove the NIM resource definitions.   This NIM operation does not completely remove all files and directories associated with the NIM resources.

2) Remove the xCAT "61rte" osimage definition along with all the specified NIM resources.  Delete ALL files and directories associated with the NIM resources.

B<rmnimimage -d 61rte>

3) Remove the NIM resources specified in the "614dskls" osimage definition on the xcatsn1 and xcatsn2 service nodes.  Delete all files or directories associated with the NIM resources.

B<rmnimimage -d -s xcatsn1,xcatsn2 614dskls>

=head1 FILES

/opt/xcat/bin/rmnimimage

=head1 NOTES

This command is part of the xCAT software product.

=head1 SEE ALSO

L<mknimimage(1)|mknimimage.1>
