TO ADD SUPPORT FOR HP BLxxx and DLxxx SERVERS TO XCAT2

After you have done the base xCAT2 install ("yum install xcat"),
execute the following commands as root:

	cd /
	tar zxf /root/hp_xcat.tgz
	service xcatd restart

Once this has been done, follow the instructions in the document
"xCAT 2 Cookbook for Linux," with the adaptations below.


USING HP BLADES WITH XCAT2

1. To add an HP enclosure Onboard Administrator, say "hpoa1,"
   and create (or add it to) a group called "hpoa" to the
   database:

   nodeadd hpoa1 groups=hpoa
   chtab node=hpoa nodehm.mgt=hpblade

2. To add 4 Blade nodes to the database, say hpbl001 through
   hpbl004, and create (or add them to) a group called
   "hpblades":

   nodeadd hpbl001-hpbl004 groups=all,compute,hpblades

3. Add the HP Blades to the hardware management table:

   chtab node=hpblades nodehm.cons=hpblade nodehm.mgt=hpblade

4. Tell xCAT to use the user name "admin" with the password
   "admPass" to access all members of the "hpoa" group

   chtab mpa=hpoa mpa.username=admin mpa.password=admPass

5. Set up the management processor tables, with Blades 1 and 2
   in device bays 1 and 2, and Blades 3 and 4 in device bays
   9 and 10

   chtab node=hpbl001 mp.mpa=hpoa mp.id=1
   chtab node=hpbl002 mp.mpa=hpoa mp.id=2
   chtab node=hpbl003 mp.mpa=hpoa mp.id=9
   chtab node=hpbl004 mp.mpa=hpoa mp.id=10

6. Set up the console server to add the blades

   makeconservercf
   service conserver stop
   service conserver start

7. Use "getmacs" to identify the new nodes:

   getmacs hpbl001-hpbl004



USING HP DL SERVERS WITH XCAT2

1. To add 4 DL server nodes to the database, say node1 to 
   node4, and create (or add them to) a group called
   "dlservers":

   nodeadd node1-node4 groups=all,compute,dlservers

2. Add the servers to the hardware management table:

   chtab node=dlservers nodehm.cons=hpilo nodehm.mgt=hpilo

3. Tell xCAT to use the user name "admin" with the password
   "admPass" to access all members of the "dlservers" group:

   chtab mpa=dlservers mpa.username=admin mpa.password=admPass

4. Set up the console server to add the blades

   makeconservercf
   service conserver stop
   service conserver start

5. Use "getmacs" to identify the new nodes:

   getmacs node1-node4
